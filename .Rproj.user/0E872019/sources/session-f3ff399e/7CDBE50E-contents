---
title: "Analyse des Clients de Cartes de Crédit"
output:
  pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.width = 10, fig.height = 6, fig.align='center')
library(ggplot2)
```

# Chargement des Données

```{r load-data}
# Lire le jeu de données
tab <- read.csv(file = "./data/credit-card-customers/BankChurners.csv", sep = ',', dec = '.', header = TRUE)
```

# Nettoyage des Données

```{r data-cleaning}
# Vérifier les valeurs NaN
if (sum(is.na(tab)) > 0) {
  print(tab[is.na(tab)])
  stop("Des valeurs NaN ont été détectées. Veuillez nettoyer les données avant de continuer.")
}

# Supprimer les lignes avec des valeurs inconnues
tab <- tab[complete.cases(tab), ]
```

# Statistiques Sommaires

## Variables Quantitatives

```{r summary-quantitative}
# Sommaire pour les variables quantitatives
quantitative_vars <- c("CLIENTNUM", "Customer_Age", "Dependent_count", "Months_on_book", "Total_Relationship_Count",
                       "Months_Inactive_12_mon", "Contacts_Count_12_mon", "Credit_Limit", "Total_Revolving_Bal",
                       "Avg_Open_To_Buy", "Total_Amt_Chng_Q4_Q1", "Total_Trans_Amt", "Total_Trans_Ct",
                       "Total_Ct_Chng_Q4_Q1", "Avg_Utilization_Ratio")
summaries_data <- summary(tab[, quantitative_vars])
summaries_data
```

## Variables Catégoriques

```{r summary-categorical}
# Tableau de fréquence pour les variables catégoriques
tables_data <- list(
  Attrition_Flag = table(tab$Attrition_Flag),
  Gender = table(tab$Gender),
  Education_Level = table(tab$Education_Level),
  Marital_Status = table(tab$Marital_Status),
  Income_Category = table(tab$Income_Category),
  Card_Category = table(tab$Card_Category)
)
tables_data
```

# Visualisation des Données

## Boxplots pour les Variables Quantitatives

```{r boxplots}
# Boxplots pour les Variables Quantitatives
par(mfrow = c(3, 3))  # Ajustez la grille selon vos préférences

for (i in 1:length(quantitative_vars)) {
  boxplot(tab[, quantitative_vars[i]], main = quantitative_vars[i], col = "skyblue", border = "black")
}
```

## Histogrammes pour les Variables Catégoriques

```{r histograms}
# Histogrammes pour les Variables Catégoriques
par(mfrow = c(2, 3))  # Ajustez la grille selon vos préférences

for (j in 1:length(names(tables_data))) {
  barplot(tables_data[[j]], main = names(tables_data)[j], col = "lightblue")
}
```

# Vérification et Gestion des Valeurs Aberrantes

```{r outliers}
# Vérification des valeurs aberrantes
quantitative_vars_to_check <- c("Credit_Limit", "Avg_Open_To_Buy", "Total_Amt_Chng_Q4_Q1", "Total_Trans_Ct", "Total_Ct_Chng_Q4_Q1")

for (var in quantitative_vars_to_check) {
  boxplot(tab[, var], main = var, col = "skyblue", border = "black")
  # Ajouter le code pour gérer les valeurs aberrantes si nécessaire
}
```

# Conclusion

Ce document fournit une analyse initiale du jeu de données des clients de cartes de crédit. Une exploration et une analyse plus approfondies peuvent être nécessaires en fonction des objectifs spécifiques de votre projet.